<%- include('partials/header') %>

<div class="container mx-auto p-6">
    <h1 class="text-3xl font-bold mb-6">Your Cart</h1>

    <% if (user.cart.length === 0) { %>
        <p class="text-gray-600">Your cart is empty. <a href="/restaurants" class="text-blue-600 underline">Browse Restaurants</a></p>
    <% } else { %>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <% user.cart.forEach(function(restaurant) { %>
                <div class="bg-white p-4 shadow-md rounded-xl">
                    <h2 class="text-xl font-semibold"><%= restaurant['Restaurant Name'] || restaurant.name %></h2>
                    <p class="text-gray-700 mb-2"><strong>Location:</strong> <%= restaurant.Location || restaurant.location %></p>
                    <% if (restaurant.menu && restaurant.menu.length > 0) { %>
                        <p class="text-gray-700"><strong>Menu Highlight:</strong> <%= restaurant.menu[0] %></p>
                    <% } else { %>
                        <p class="text-gray-500 italic">No menu available</p>
                    <% } %>
                    
                    <!-- Optional image -->
                    <% if (restaurant.image) { %>
                        <img src="<%= restaurant.image %>" alt="Restaurant Image" class="mt-2 rounded-md w-full h-40 object-cover">
                    <% } %>

                    <!-- Remove from cart button -->
                    <form action="/cart/remove/<%= restaurant._id %>" method="POST" class="mt-4">
                        <button class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600">Remove</button>
                    </form>
                </div>
            <% }) %>
        </div>
    <% } %>
</div>

<%- include('partials/footer') %>
